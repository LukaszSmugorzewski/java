
Programowanie obiektowe w Java
mgr inż. Adam Zalewski
Zestaw nr 7
Zadania:
-
1. Utwórz klasę Magazyn, która przechowuje produkty, oraz ich ilość. Dodaj konstruktor, który ustawia wartości pól w obiekcie oraz metodę, która wyświetla asortyment magazynu. Zmodyfikuj poprzedni kod, aby działał z nową klasą.



2. Utwórz klasę Adres z polami ulica, numerDomu, numerMieszkania (opcjonalnie), miasto, kodPocztowy. Zdefiniuj dwa konstruktory: jeden z numerem mieszkania i jeden bez.
Zdefiniuj metodę pokaz, która wypisuje w pierwszej linii kod pocztowy i miasto, a w następnej linii pozostałe informacje oraz metodę przed, która sprawdza czy dany adres występuje przed innym (porównuj tylko kody pocztowe).
Dodaj adres do klasy Klient.

3. Zmodyfikuj klasę KoszykZakupowy, w taki sposób, że przechowuje ona listę produktów w postaci produkty, oraz ich ilość.
Dodaj do klasy Sklep pola nazwaSklepu, dataPowstania oraz
magazynSklepu. Odpowiednio zaktualizuj konstruktor. Data powstania nie może być datą z przyszłości.

4. Zastąp wszystkie metody wyświetlające informację o klasach metodą toString. Zaimplementuj polimorfizm dynamiczny.

5. Nadpisz metodę getClass, która zwraca napis „Cześć jestem klasą <nazwa klasy>"

6. Nadpisz metodę hashCode, która zwraca hash w podanych klasach: 
Produkt: hash dla nazwy i ceny
Platnosc: hash dla kwoty i statusu płatności 
Klient: hash dla imienia, nazwiska oraz adresu

7. Ustaw modyfikatory dostępu do pól w klasach na prywatne.

8. Napisz metody typu getter i setter dla wszystkich pól we wszystkich klasach. Waliduj dane wejściowe w setterach (np. czy nie są null).

9. Napisz wyjątki w setterach kiedy wartość nie jest poprawna 
np. throw new IllegalArgumentException (<komunikat>)

10. Nadpisz metodę equals dla podanych klas. Dwie klasy są równe kiedy:
Produkt: posiada identyczną nazwę i cenę
Platnosc: posiada identyczną kwotę i status płatności 
Klient: posiada identyczne imię, nazwisko oraz adres


package Zestaw4;

public class Test {
    public static void main(String[] args){
        Sklep sklep = new Sklep();
        Produkt p1 = new Produkt("Mleko", 4, 99);
        Produkt p2 = new Produkt("Mąka", 20, 120);
        Produkt p3 = new Produkt("Papier Toaletowy", 200, 3);
        sklep.dodajProdukt(p1);
        sklep.dodajProdukt(p2);
        sklep.dodajProdukt(p3);
        sklep.wyswietlOferty();
        System.out.println();

        KoszykZakupowy koszyk1 = new KoszykZakupowy();
        sklep.zakupy(koszyk1, sklep.wyszukajProdukt("Mleko"), 6);
        sklep.zakupy(koszyk1, sklep.wyszukajProdukt("Mąka"), 12);
        sklep.zakupy(koszyk1, sklep.wyszukajProdukt("Papier Toaletowy"), 100);


        Zamowienie zamowienie1 = new Zamowienie(koszyk1, Zamowienie.StatusZamowienia.ZLOZONE);
        zamowienie1.zwrocProdukt(sklep, sklep.wyszukajProdukt("Mąka"), 2);
        zamowienie1.platnosc.zaplac();
        zamowienie1.finalizujZamowienie();
        zamowienie1.wyswietlZamowienie();
        System.out.println();

        Klient klient = new Klient("James", "Błąd");
        klient.dodajZamowienie(zamowienie1);
        klient.wyswietlHistorieZamowien();
        System.out.println(klient.oblicLacznyKosztZamowien());
        System.out.println();


    }
}


package Zestaw4;

import java.util.ArrayList;

public class KoszykZakupowy {
    private ArrayList<Produkt> produkty;

    public KoszykZakupowy(ArrayList<Produkt> produkty){
        this.produkty = produkty;
    }

    public KoszykZakupowy(){
        this.produkty = new ArrayList<Produkt>();
    }

    public void dodajProdukt(Produkt produkt, int ile){
        if(produkt.usunZMagazynu(ile)){
            produkty.add(new Produkt(produkt.nazwa, produkt.cena, ile));
        }
    }
    
    

    public void usunProdukt(String nazwa, int ile){
        for(Produkt produkt : produkty){
            if (produkt.nazwa == nazwa){
                produkt.usunZMagazynu(ile);
                break;
            }
        }
    }

    public void wyswietlZawartoscKoszyka(){
        for(Produkt prod : produkty){
            prod.wyswietl();
        }
    }

    public int obliczCalkowitaWartosc(){
        int res = 0;
        for(Produkt prod : produkty){
            res += prod.cena * prod.iloscNaMagazynie;
        }
        return res;
    }
}

package Zestaw4;

public class Produkt {
    public String nazwa;
    public int cena;
    public int iloscNaMagazynie;

    public Produkt(String nazwa, int cena, int ilosc){
        this.nazwa = nazwa;
        this.cena = cena;
        this.iloscNaMagazynie = ilosc;
    }

    public void wyswietl(){
        System.out.println("[Nazwa: " + nazwa + ", Cena: " + cena + ", Ilość na magazynie: " + iloscNaMagazynie + "]");
    }

    public void dodajDoMagazynu(int ile){
        iloscNaMagazynie += ile;
    }

    public boolean usunZMagazynu(int ile){
        if(iloscNaMagazynie - ile >= 0){
            iloscNaMagazynie -= ile;
            return true;
        }
        return false;
    }
}

package Zestaw4;

public class Zamowienie {
    public KoszykZakupowy koszykZakupowy;
    public Platnosc platnosc;
    public enum StatusZamowienia{
        ZLOZONE,
        GOTOWEDOWYSYLKI,
        ZREALIZOWANE,
        ANULOWANE
    }
    public StatusZamowienia statusZamowienia;

    public Zamowienie(KoszykZakupowy koszykZakupowy, StatusZamowienia statusZamowienia){
        this.koszykZakupowy = koszykZakupowy;
        this.statusZamowienia = statusZamowienia;
        this.platnosc = new Platnosc(koszykZakupowy.obliczCalkowitaWartosc());
    }

    public void ustawStatusZamowienia(StatusZamowienia nowyStatus){
        statusZamowienia = nowyStatus;
    }

    public void wyswietlZamowienie(){
        System.out.println("Zawartosc koszyka:");
        koszykZakupowy.wyswietlZawartoscKoszyka();
        System.out.println("Status zamowienia:");
        System.out.println(statusZamowienia.toString());
    }

    public void finalizujZamowienie(){
        if(platnosc.statusPlatnosci == Platnosc.StatusPlatnosci.OPLACONE){
            ustawStatusZamowienia(StatusZamowienia.GOTOWEDOWYSYLKI);
        }
    }

    public void zwrocProdukt(Sklep sklep, Produkt produkt, int ile){
        sklep.wyszukajProdukt(produkt.nazwa).dodajDoMagazynu(ile);
        koszykZakupowy.usunProdukt(produkt.nazwa, ile);
        platnosc.kwota = koszykZakupowy.obliczCalkowitaWartosc();
    }
}

package Zestaw4;

import java.util.ArrayList;

public class Klient {
    public String imie;
    public String nazwisko;
    public ArrayList<Zamowienie> listaZamownien;

    public Klient(String imie, String nazwisko){
        this.imie = imie;
        this.nazwisko = nazwisko;
        listaZamownien = new ArrayList<Zamowienie>();
    }

    public void dodajZamowienie(Zamowienie zamowienie){
        listaZamownien.add(zamowienie);
    }

    public void wyswietlHistorieZamowien(){
        System.out.println("Historia zamowien: ");
        for(Zamowienie zamowienie : listaZamownien){
            zamowienie.wyswietlZamowienie();
        }
    }

    public int oblicLacznyKosztZamowien(){
        int res = 0;
        for(Zamowienie zamowienie : listaZamownien){
            res += zamowienie.koszykZakupowy.obliczCalkowitaWartosc();
        }
        return res;
    }
}



package Zestaw4;

public class Platnosc {
    public int kwota;
    public enum StatusPlatnosci{
        NIEOPLACONE,
        OPLACONE
    }
    public StatusPlatnosci statusPlatnosci;

    public Platnosc(int kwota){
        this.kwota = kwota;
        this.statusPlatnosci = StatusPlatnosci.NIEOPLACONE;
    }

    public void zaplac(){
        statusPlatnosci = StatusPlatnosci.OPLACONE;
        kwota = 0;
    }
}


package Zestaw4;

import java.util.ArrayList;

public class Sklep {
    public ArrayList<Produkt> produkty;

    public Sklep(){
        produkty = new ArrayList<Produkt>();
    }

    public void dodajProdukt(Produkt produkt){
        produkty.add(produkt);
    }

    public void wyswietlOferty(){
        for(Produkt produkt : produkty){
            System.out.println(produkt.nazwa + ": " + produkt.cena);
        }
    }

    public Produkt wyszukajProdukt(String szukanaNazwa){
        for(Produkt produkt : produkty){
            if(produkt.nazwa == szukanaNazwa){
                return produkt;
            }
        }
        return null;
    }

    public void zakupy(KoszykZakupowy koszyk, Produkt produkt, int ile){
        koszyk.dodajProdukt(produkt, ile);
    }
}
